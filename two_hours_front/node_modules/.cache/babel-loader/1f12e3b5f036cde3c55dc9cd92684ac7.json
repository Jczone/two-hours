{"ast":null,"code":"import easingFuncs from './easing.js';\nimport { isFunction, noop } from '../core/util.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\n\nvar Clip = function () {\n  function Clip(opts) {\n    this._inited = false;\n    this._startTime = 0;\n    this._pausedTime = 0;\n    this._paused = false;\n    this._life = opts.life || 1000;\n    this._delay = opts.delay || 0;\n    this.loop = opts.loop || false;\n    this.onframe = opts.onframe || noop;\n    this.ondestroy = opts.ondestroy || noop;\n    this.onrestart = opts.onrestart || noop;\n    opts.easing && this.setEasing(opts.easing);\n  }\n\n  Clip.prototype.step = function (globalTime, deltaTime) {\n    if (!this._inited) {\n      this._startTime = globalTime + this._delay;\n      this._inited = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var life = this._life;\n    var elapsedTime = globalTime - this._startTime - this._pausedTime;\n    var percent = elapsedTime / life;\n\n    if (percent < 0) {\n      percent = 0;\n    }\n\n    percent = Math.min(percent, 1);\n    var easingFunc = this.easingFunc;\n    var schedule = easingFunc ? easingFunc(percent) : percent;\n    this.onframe(schedule);\n\n    if (percent === 1) {\n      if (this.loop) {\n        var remainder = elapsedTime % life;\n        this._startTime = globalTime - remainder;\n        this._pausedTime = 0;\n        this.onrestart();\n      } else {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Clip.prototype.pause = function () {\n    this._paused = true;\n  };\n\n  Clip.prototype.resume = function () {\n    this._paused = false;\n  };\n\n  Clip.prototype.setEasing = function (easing) {\n    this.easing = easing;\n    this.easingFunc = isFunction(easing) ? easing : easingFuncs[easing] || createCubicEasingFunc(easing);\n  };\n\n  return Clip;\n}();\n\nexport default Clip;","map":{"version":3,"sources":["F:/Desktop/繁星教育/TH资料/two_hours_front/node_modules/zrender/lib/animation/Clip.js"],"names":["easingFuncs","isFunction","noop","createCubicEasingFunc","Clip","opts","_inited","_startTime","_pausedTime","_paused","_life","life","_delay","delay","loop","onframe","ondestroy","onrestart","easing","setEasing","prototype","step","globalTime","deltaTime","elapsedTime","percent","Math","min","easingFunc","schedule","remainder","pause","resume"],"mappings":"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","sourcesContent":["import easingFuncs from './easing.js';\nimport { isFunction, noop } from '../core/util.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nvar Clip = (function () {\n    function Clip(opts) {\n        this._inited = false;\n        this._startTime = 0;\n        this._pausedTime = 0;\n        this._paused = false;\n        this._life = opts.life || 1000;\n        this._delay = opts.delay || 0;\n        this.loop = opts.loop || false;\n        this.onframe = opts.onframe || noop;\n        this.ondestroy = opts.ondestroy || noop;\n        this.onrestart = opts.onrestart || noop;\n        opts.easing && this.setEasing(opts.easing);\n    }\n    Clip.prototype.step = function (globalTime, deltaTime) {\n        if (!this._inited) {\n            this._startTime = globalTime + this._delay;\n            this._inited = true;\n        }\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n        var life = this._life;\n        var elapsedTime = globalTime - this._startTime - this._pausedTime;\n        var percent = elapsedTime / life;\n        if (percent < 0) {\n            percent = 0;\n        }\n        percent = Math.min(percent, 1);\n        var easingFunc = this.easingFunc;\n        var schedule = easingFunc ? easingFunc(percent) : percent;\n        this.onframe(schedule);\n        if (percent === 1) {\n            if (this.loop) {\n                var remainder = elapsedTime % life;\n                this._startTime = globalTime - remainder;\n                this._pausedTime = 0;\n                this.onrestart();\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Clip.prototype.pause = function () {\n        this._paused = true;\n    };\n    Clip.prototype.resume = function () {\n        this._paused = false;\n    };\n    Clip.prototype.setEasing = function (easing) {\n        this.easing = easing;\n        this.easingFunc = isFunction(easing)\n            ? easing\n            : easingFuncs[easing] || createCubicEasingFunc(easing);\n    };\n    return Clip;\n}());\nexport default Clip;\n"]},"metadata":{},"sourceType":"module"}